webpackJsonp([0],{319:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(2),r=l(n),s=a(12),i=a(8);a(24),a(25);var o=a(9),u=a(320),c=l(u),d=a(26),f=l(d),p=a(321),m=l(p),h=a(27),E=(0,h.configureStore)({auth:f.default,profile:m.default}),g=(0,o.layout)({comp:c.default,forAuth:!0});(0,s.render)(r.default.createElement(i.Provider,{store:E},r.default.createElement(g,null)),document.getElementById("root"))},320:function(e,t,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),o=a(2),u=function(e){return e&&e.__esModule?e:{default:e}}(o),c=a(8),d=a(29),f=a(9),p=function(e){function t(){return l(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-3"},u.default.createElement("div",{className:"panel panel-default"},u.default.createElement("div",{className:"panel-heading"},u.default.createElement("span",{className:"glyphicon glyphicon-bookmark"}),"  ",u.default.createElement("a",{href:"/my-blog-list"},"My blogs")),u.default.createElement("div",{className:"panel-body"},this.props.profile.countBlogs))),u.default.createElement("div",{className:"col-sm-3"},u.default.createElement("div",{className:"panel panel-default"},u.default.createElement("div",{className:"panel-heading"},u.default.createElement("span",{className:"glyphicon glyphicon-user"}),"  ",u.default.createElement("a",{href:"#"},"My friends")),u.default.createElement("div",{className:"panel-body"},"Friends : ",this.props.profile.friends,u.default.createElement("br",null),"Requests : ",this.props.profile.friendRequests,u.default.createElement("br",null),"My Requests : ",this.props.profile.selfFriendRequests,u.default.createElement("br",null)))),u.default.createElement("div",{className:"col-sm-3"},u.default.createElement("div",{className:"panel panel-default"},u.default.createElement("div",{className:"panel-heading"},u.default.createElement("span",{className:"glyphicon glyphicon-envelope"}),"  ",u.default.createElement("a",{href:"/chats"},"My chats")),u.default.createElement("div",{className:"panel-body"},this.props.profile.countChats))))}}]),t}(u.default.Component),m=function(e){function t(e){l(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={login:a.props.profile.login,email:a.props.profile.email,edit:!1},a}return r(t,e),i(t,[{key:"formSubmit",value:function(e){e.preventDefault(),this.props.dispatch((0,d.graphql)({type:"PROFILE_EDIT",login:this.state.login,email:this.state.email}))}},{key:"fieldChange",value:function(e){var t={};t[e.target.id]=e.target.value,this.setState(t)}},{key:"setMode",value:function(e){this.setState({edit:!this.state.edit})}},{key:"componentWillReceiveProps",value:function(e){this.setState({login:e.profile.login,email:e.profile.email})}},{key:"render",value:function(){var e="",t="";return this.state.edit?e="hidden":t="hidden",u.default.createElement("div",{className:"panel panel-default"},u.default.createElement("div",{className:"panel-heading"},u.default.createElement("button",{className:"btn btn-default "+t,onClick:this.setMode.bind(this)},u.default.createElement("span",{className:"glyphicon glyphicon-user"}),"   View profile"),u.default.createElement("button",{className:"btn btn-default "+e,onClick:this.setMode.bind(this)},u.default.createElement("span",{className:"glyphicon glyphicon-cog"}),"   Edit profile")),u.default.createElement("div",{className:"panel-body"},u.default.createElement("div",{className:e},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-2"},u.default.createElement("label",null,"Login")),u.default.createElement("div",{className:"col-sm-10"},this.state.login)),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-2"},u.default.createElement("label",null,"Email")),u.default.createElement("div",{className:"col-sm-10"},this.state.email))),u.default.createElement("div",{className:t},u.default.createElement("form",{onSubmit:this.formSubmit.bind(this)},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"login"},"Login"),u.default.createElement("input",{type:"text",className:"form-control",id:"login",placeholder:"Login",value:this.state.login,onChange:this.fieldChange.bind(this)})),u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:"email"},"Email address"),u.default.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",value:this.state.email,onChange:this.fieldChange.bind(this)})),u.default.createElement("button",{type:"submit",className:"btn btn-default"},u.default.createElement("span",{className:"glyphicon glyphicon-floppy-disk"}),"  Submit")))))}}]),t}(u.default.Component),h=function(e){function t(){return l(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.dispatch((0,d.graphql)({type:"PROFILE"}))}},{key:"render",value:function(){var e=null;return"error"===this.props.profile.status||"edit_error"===this.props.profile.status?e={className:"danger",text:this.props.profile.error||this.props.profile.error}:"send"===this.props.profile.status?e={className:"info",text:"Loading, please wait"}:"edit_success"===this.props.profile.status&&(e={className:"success",text:"The profile updated successfully"}),u.default.createElement("div",null,u.default.createElement(f.AlertMessage,{opts:e}),u.default.createElement(m,{profile:this.props.profile,dispatch:this.props.dispatch}),u.default.createElement(p,{profile:this.props.profile}))}}]),t}(u.default.Component),E=function(e){return s({},e)};h=(0,c.connect)(E)(h),t.default=h},321:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n={id:"",login:"",email:"",friends:"",friendRequests:0,selfFriendRequests:0,countChats:0,countBlogs:0,status:null,error:null},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1],a=null;switch(t.type){case"PROFILE_SEND":var r=l({},e);return r.status="send",r;case"PROFILE_SUCCESS":return a=l({},t.data.profile),{_id:a._id,login:a.login,email:a.email,friends:a.friends||0,friendRequests:a.friendRequests||0,selfFriendRequests:a.selfFriendRequests||0,countChats:a.countChats||0,countBlogs:a.countBlogs||0,status:"success",error:null};case"PROFILE_ERROR":var s=l({},e);return s.status="error",s.error=t.error,s;case"PROFILE_EDIT_SEND":return e=l({},e),e.login=t.login,e.email=t.email,e.status="send",e;case"PROFILE_EDIT_SUCCESS":return a=l({},t.data.editProfile),e=l({},e),e.login=a.login,e.email=a.email,e.status="edit_success",e.error=null,e;case"PROFILE_EDIT_ERROR":return e=l({},e),e.status="edit_error",e.error=t.error,e;default:return e}};t.default=r}},[319]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zdGF0aWNfc3JjL3Byb2ZpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljX3NyYy9wcm9maWxlL1Byb2ZpbGVDb21wLmpzIiwid2VicGFjazovLy8uL3N0YXRpY19zcmMvcHJvZmlsZS9Qcm9maWxlUmVkLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjMxOSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9yZWFjdERvbSIsIl9yZWFjdFJlZHV4IiwiX2NvbXBvbmVudCIsIl9Qcm9maWxlQ29tcCIsIl9Qcm9maWxlQ29tcDIiLCJfTG9naW5SZWQiLCJfTG9naW5SZWQyIiwiX1Byb2ZpbGVSZWQiLCJfUHJvZmlsZVJlZDIiLCJfY29uZmlndXJlU3RvcmUiLCJzdG9yZSIsImNvbmZpZ3VyZVN0b3JlIiwiYXV0aCIsInByb2ZpbGUiLCJDb21wIiwibGF5b3V0IiwiY29tcCIsIlByb2ZpbGVDb21wIiwiZm9yQXV0aCIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCIzMjAiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGVmaW5lUHJvcGVydHkiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfYWN0aW9uIiwiTnVtSW5mbyIsIl9SZWFjdCRDb21wb25lbnQiLCJ0aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJhcHBseSIsImNsYXNzTmFtZSIsImhyZWYiLCJjb3VudEJsb2dzIiwiZnJpZW5kcyIsImZyaWVuZFJlcXVlc3RzIiwic2VsZkZyaWVuZFJlcXVlc3RzIiwiY291bnRDaGF0cyIsIlJlYWN0IiwiQ29tcG9uZW50IiwiVXNlckluZm8iLCJfUmVhY3QkQ29tcG9uZW50MiIsIl90aGlzMiIsInN0YXRlIiwibG9naW4iLCJlbWFpbCIsImVkaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJkaXNwYXRjaCIsImdyYXBocWwiLCJ0eXBlIiwic3RhdGVPYmoiLCJpZCIsInNldFN0YXRlIiwibmV3UHJvcHMiLCJpbmZvQ2xhc3MiLCJmb3JtQ2xhc3MiLCJvbkNsaWNrIiwic2V0TW9kZSIsImJpbmQiLCJvblN1Ym1pdCIsImZvcm1TdWJtaXQiLCJodG1sRm9yIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImZpZWxkQ2hhbmdlIiwiX1JlYWN0JENvbXBvbmVudDMiLCJhbGVydE9wdHMiLCJzdGF0dXMiLCJ0ZXh0IiwiZXJyb3IiLCJBbGVydE1lc3NhZ2UiLCJvcHRzIiwibWFwU3RhdGVUb1Byb3BzIiwiY29ubmVjdCIsIjMyMSIsImluaXRTdGF0ZSIsInVuZGVmaW5lZCIsImFjdGlvbiIsImRhdGEiLCJzZW5kU3RhdGUiLCJfaWQiLCJlcnJvclN0YXRlIiwiZWRpdFByb2ZpbGUiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLElBQ0EsU0FBVUMsRUFBUUMsRUFBU0Ms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SyxxQkFJRCxNQUhBQSxRQUFZQSxHQUNaQSxFQUFNMEIsT0FBUyxhQUNmMUIsRUFBTTRCLE1BQVFRLEVBQU9SLE1BQ2Q1QixDQUNYLFNBQ0ksTUFBT0EsSUhpY25CeEYsR0FBUUssUUc3Yk9nQixLSGljWiIsImZpbGUiOiJwcm9maWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIDMxOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9jb21wb25lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX1Byb2ZpbGVDb21wID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjApO1xuXG52YXIgX1Byb2ZpbGVDb21wMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Byb2ZpbGVDb21wKTtcblxudmFyIF9Mb2dpblJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG52YXIgX0xvZ2luUmVkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvZ2luUmVkKTtcblxudmFyIF9Qcm9maWxlUmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjEpO1xuXG52YXIgX1Byb2ZpbGVSZWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvZmlsZVJlZCk7XG5cbnZhciBfY29uZmlndXJlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0b3JlID0gKDAsIF9jb25maWd1cmVTdG9yZS5jb25maWd1cmVTdG9yZSkoe1xuXHRhdXRoOiBfTG9naW5SZWQyLmRlZmF1bHQsXG5cdHByb2ZpbGU6IF9Qcm9maWxlUmVkMi5kZWZhdWx0XG59KTtcblxudmFyIENvbXAgPSAoMCwgX2NvbXBvbmVudC5sYXlvdXQpKHsgY29tcDogX1Byb2ZpbGVDb21wMi5kZWZhdWx0LCBmb3JBdXRoOiB0cnVlIH0pO1xuKDAsIF9yZWFjdERvbS5yZW5kZXIpKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHRfcmVhY3RSZWR1eC5Qcm92aWRlcixcblx0eyBzdG9yZTogc3RvcmUgfSxcblx0X3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcCwgbnVsbClcbiksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzIwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9hY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9jb21wb25lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBOdW1JbmZvID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTnVtSW5mbywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBOdW1JbmZvKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtSW5mbyk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOdW1JbmZvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTnVtSW5mbykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhOdW1JbmZvLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncm93JyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtc20tMycgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwgcGFuZWwtZGVmYXVsdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwtaGVhZGluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1ib29rbWFyaycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwXFx4QTAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogJy9teS1ibG9nLWxpc3QnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNeSBibG9ncydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYW5lbC1ib2R5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucHJvZmlsZS5jb3VudEJsb2dzXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtc20tMycgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwgcGFuZWwtZGVmYXVsdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwtaGVhZGluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi11c2VyJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTBcXHhBMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBocmVmOiAnIycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ015IGZyaWVuZHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwtYm9keScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRnJpZW5kcyA6ICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLmZyaWVuZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1JlcXVlc3RzIDogJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnByb2ZpbGUuZnJpZW5kUmVxdWVzdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ015IFJlcXVlc3RzIDogJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnByb2ZpbGUuc2VsZkZyaWVuZFJlcXVlc3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtc20tMycgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwgcGFuZWwtZGVmYXVsdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwtaGVhZGluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1lbnZlbG9wZScgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwXFx4QTAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogJy9jaGF0cycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ015IGNoYXRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BhbmVsLWJvZHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLmNvdW50Q2hhdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTnVtSW5mbztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbi8qKlxuICogQ2xhc3Mgd2l0aCB1c2VyIGluZm8gYW5kIGZvciB0byBlZGl0IHByb2ZpbGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2dpblxuICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG4gKi9cblxuXG52YXIgVXNlckluZm8gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcbiAgICBfaW5oZXJpdHMoVXNlckluZm8sIF9SZWFjdCRDb21wb25lbnQyKTtcblxuICAgIGZ1bmN0aW9uIFVzZXJJbmZvKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VySW5mbyk7XG5cbiAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChVc2VySW5mby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFVzZXJJbmZvKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzMi5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGxvZ2luOiBfdGhpczIucHJvcHMucHJvZmlsZS5sb2dpbixcbiAgICAgICAgICAgIGVtYWlsOiBfdGhpczIucHJvcHMucHJvZmlsZS5lbWFpbCxcbiAgICAgICAgICAgIGVkaXQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpczI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFVzZXJJbmZvLCBbe1xuICAgICAgICBrZXk6ICdmb3JtU3VibWl0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1TdWJtaXQoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaCgoMCwgX2FjdGlvbi5ncmFwaHFsKSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BST0ZJTEVfRURJVCcsXG4gICAgICAgICAgICAgICAgbG9naW46IHRoaXMuc3RhdGUubG9naW4sXG4gICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmllbGRDaGFuZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmllbGRDaGFuZ2UoZSkge1xuICAgICAgICAgICAgdmFyIHN0YXRlT2JqID0ge307XG4gICAgICAgICAgICBzdGF0ZU9ialtlLnRhcmdldC5pZF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGVPYmopO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRNb2RlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1vZGUoZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZWRpdDogIXRoaXMuc3RhdGUuZWRpdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgbG9naW46IG5ld1Byb3BzLnByb2ZpbGUubG9naW4sXG4gICAgICAgICAgICAgICAgZW1haWw6IG5ld1Byb3BzLnByb2ZpbGUuZW1haWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIGluZm9DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgZm9ybUNsYXNzID0gXCJcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXQpIHtcbiAgICAgICAgICAgICAgICBpbmZvQ2xhc3MgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtQ2xhc3MgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYW5lbCBwYW5lbC1kZWZhdWx0JyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYW5lbC1oZWFkaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kZWZhdWx0IFwiICsgZm9ybUNsYXNzLCBvbkNsaWNrOiB0aGlzLnNldE1vZGUuYmluZCh0aGlzKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2dseXBoaWNvbiBnbHlwaGljb24tdXNlcicgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTBcXHhBMCBWaWV3IHByb2ZpbGUnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHQgXCIgKyBpbmZvQ2xhc3MsIG9uQ2xpY2s6IHRoaXMuc2V0TW9kZS5iaW5kKHRoaXMpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1jb2cnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwXFx4QTAgRWRpdCBwcm9maWxlJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFuZWwtYm9keScgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBpbmZvQ2xhc3MgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncm93JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtc20tMicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMb2dpbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC1zbS0xMCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2dpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JvdycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLXNtLTInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRW1haWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtc20tMTAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogZm9ybUNsYXNzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9ybScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBvblN1Ym1pdDogdGhpcy5mb3JtU3VibWl0LmJpbmQodGhpcykgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBodG1sRm9yOiAnbG9naW4nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTG9naW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tY29udHJvbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xvZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnTG9naW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubG9naW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5maWVsZENoYW5nZS5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBodG1sRm9yOiAnZW1haWwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRW1haWwgYWRkcmVzcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tY29udHJvbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRW1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5maWVsZENoYW5nZS5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3N1Ym1pdCcsIGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2dseXBoaWNvbiBnbHlwaGljb24tZmxvcHB5LWRpc2snIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAgU3VibWl0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVXNlckluZm87XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG47XG5cbnZhciBQcm9maWxlQ29tcCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50Mykge1xuICAgIF9pbmhlcml0cyhQcm9maWxlQ29tcCwgX1JlYWN0JENvbXBvbmVudDMpO1xuXG4gICAgZnVuY3Rpb24gUHJvZmlsZUNvbXAoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9maWxlQ29tcCk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcm9maWxlQ29tcC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb2ZpbGVDb21wKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFByb2ZpbGVDb21wLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaCgoMCwgX2FjdGlvbi5ncmFwaHFsKSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BST0ZJTEUnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgYWxlcnRPcHRzID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzID09PSAnZXJyb3InIHx8IHRoaXMucHJvcHMucHJvZmlsZS5zdGF0dXMgPT09ICdlZGl0X2Vycm9yJykge1xuICAgICAgICAgICAgICAgIGFsZXJ0T3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5wcm9wcy5wcm9maWxlLmVycm9yIHx8IHRoaXMucHJvcHMucHJvZmlsZS5lcnJvclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5zdGF0dXMgPT09ICdzZW5kJykge1xuICAgICAgICAgICAgICAgIGFsZXJ0T3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdMb2FkaW5nLCBwbGVhc2Ugd2FpdCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzID09PSAnZWRpdF9zdWNjZXNzJykge1xuICAgICAgICAgICAgICAgIGFsZXJ0T3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdUaGUgcHJvZmlsZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50LkFsZXJ0TWVzc2FnZSwgeyBvcHRzOiBhbGVydE9wdHMgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVXNlckluZm8sIHsgcHJvZmlsZTogdGhpcy5wcm9wcy5wcm9maWxlLCBkaXNwYXRjaDogdGhpcy5wcm9wcy5kaXNwYXRjaCB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChOdW1JbmZvLCB7IHByb2ZpbGU6IHRoaXMucHJvcHMucHJvZmlsZSB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQcm9maWxlQ29tcDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlKTtcbn07XG5Qcm9maWxlQ29tcCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMpKFByb2ZpbGVDb21wKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUHJvZmlsZUNvbXA7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMjE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIGluaXRTdGF0ZSA9IHtcbiAgICBpZDogJycsXG4gICAgbG9naW46ICcnLFxuICAgIGVtYWlsOiAnJyxcbiAgICBmcmllbmRzOiAnJyxcbiAgICBmcmllbmRSZXF1ZXN0czogMCxcbiAgICBzZWxmRnJpZW5kUmVxdWVzdHM6IDAsXG4gICAgY291bnRDaGF0czogMCxcbiAgICBjb3VudEJsb2dzOiAwLFxuICAgIHN0YXR1czogbnVsbCxcbiAgICBlcnJvcjogbnVsbFxufTtcbnZhciBwcm9maWxlID0gZnVuY3Rpb24gcHJvZmlsZSgpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRTdGF0ZTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdQUk9GSUxFX1NFTkQnOlxuICAgICAgICAgICAgdmFyIHNlbmRTdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSk7XG4gICAgICAgICAgICBzZW5kU3RhdGUuc3RhdHVzID0gJ3NlbmQnO1xuICAgICAgICAgICAgcmV0dXJuIHNlbmRTdGF0ZTtcbiAgICAgICAgY2FzZSAnUFJPRklMRV9TVUNDRVNTJzpcbiAgICAgICAgICAgIGRhdGEgPSBfZXh0ZW5kcyh7fSwgYWN0aW9uLmRhdGEucHJvZmlsZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIF9pZDogZGF0YS5faWQsXG4gICAgICAgICAgICAgICAgbG9naW46IGRhdGEubG9naW4sXG4gICAgICAgICAgICAgICAgZW1haWw6IGRhdGEuZW1haWwsXG4gICAgICAgICAgICAgICAgZnJpZW5kczogZGF0YS5mcmllbmRzIHx8IDAsXG4gICAgICAgICAgICAgICAgZnJpZW5kUmVxdWVzdHM6IGRhdGEuZnJpZW5kUmVxdWVzdHMgfHwgMCxcbiAgICAgICAgICAgICAgICBzZWxmRnJpZW5kUmVxdWVzdHM6IGRhdGEuc2VsZkZyaWVuZFJlcXVlc3RzIHx8IDAsXG4gICAgICAgICAgICAgICAgY291bnRDaGF0czogZGF0YS5jb3VudENoYXRzIHx8IDAsXG4gICAgICAgICAgICAgICAgY291bnRCbG9nczogZGF0YS5jb3VudEJsb2dzIHx8IDAsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ1BST0ZJTEVfRVJST1InOlxuICAgICAgICAgICAgdmFyIGVycm9yU3RhdGUgPSBfZXh0ZW5kcyh7fSwgc3RhdGUpO1xuICAgICAgICAgICAgZXJyb3JTdGF0ZS5zdGF0dXMgPSAnZXJyb3InO1xuICAgICAgICAgICAgZXJyb3JTdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclN0YXRlO1xuXG4gICAgICAgIGNhc2UgJ1BST0ZJTEVfRURJVF9TRU5EJzpcbiAgICAgICAgICAgIHN0YXRlID0gX2V4dGVuZHMoe30sIHN0YXRlKTtcbiAgICAgICAgICAgIHN0YXRlLmxvZ2luID0gYWN0aW9uLmxvZ2luO1xuICAgICAgICAgICAgc3RhdGUuZW1haWwgPSBhY3Rpb24uZW1haWw7XG4gICAgICAgICAgICBzdGF0ZS5zdGF0dXMgPSAnc2VuZCc7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIGNhc2UgJ1BST0ZJTEVfRURJVF9TVUNDRVNTJzpcbiAgICAgICAgICAgIGRhdGEgPSBfZXh0ZW5kcyh7fSwgYWN0aW9uLmRhdGEuZWRpdFByb2ZpbGUpO1xuICAgICAgICAgICAgc3RhdGUgPSBfZXh0ZW5kcyh7fSwgc3RhdGUpO1xuICAgICAgICAgICAgc3RhdGUubG9naW4gPSBkYXRhLmxvZ2luO1xuICAgICAgICAgICAgc3RhdGUuZW1haWwgPSBkYXRhLmVtYWlsO1xuICAgICAgICAgICAgc3RhdGUuc3RhdHVzID0gJ2VkaXRfc3VjY2Vzcyc7XG4gICAgICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIGNhc2UgJ1BST0ZJTEVfRURJVF9FUlJPUic6XG4gICAgICAgICAgICBzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSk7XG4gICAgICAgICAgICBzdGF0ZS5zdGF0dXMgPSAnZWRpdF9lcnJvcic7XG4gICAgICAgICAgICBzdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBwcm9maWxlO1xuXG4vKioqLyB9KVxuXG59LFszMTldKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcHJvZmlsZS5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5cbmltcG9ydCAnYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3MnO1xuaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5zY3NzJ1xuXG5pbXBvcnQge2xheW91dH0gZnJvbSAnLi9oZWxwZXJzL2NvbXBvbmVudCdcbmltcG9ydCBQcm9maWxlQ29tcCBmcm9tICcuL3Byb2ZpbGUvUHJvZmlsZUNvbXAnXG5cbmltcG9ydCBhdXRoIGZyb20gJy4vYXV0aC9Mb2dpblJlZCdcbmltcG9ydCBwcm9maWxlIGZyb20gJy4vcHJvZmlsZS9Qcm9maWxlUmVkJ1xuXG5pbXBvcnQge2NvbmZpZ3VyZVN0b3JlfSBmcm9tICcuL2hlbHBlcnMvY29uZmlndXJlU3RvcmUnXG5cbmxldCBzdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKHtcblx0YXV0aDogYXV0aCxcblx0cHJvZmlsZTogcHJvZmlsZSxcbn0pO1xuXG5sZXQgQ29tcCA9IGxheW91dCh7Y29tcDogUHJvZmlsZUNvbXAsIGZvckF1dGg6IHRydWV9KTtcbnJlbmRlcihcblx0PFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG5cdFx0PENvbXAgLz5cblx0PC9Qcm92aWRlcj4sXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcbilcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zdGF0aWNfc3JjL3Byb2ZpbGUuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5cbmltcG9ydCB7YXBpLCBncmFwaHFsfSBmcm9tICcuLi9oZWxwZXJzL2FjdGlvbidcbmltcG9ydCB7QWxlcnRNZXNzYWdlfSBmcm9tICcuLi9oZWxwZXJzL2NvbXBvbmVudCdcblxuXG5jbGFzcyBOdW1JbmZvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICByZW5kZXIgKCkge1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLWJvb2ttYXJrXCI+PC9zcGFuPiZuYnNwOyZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIi9teS1ibG9nLWxpc3RcIj5NeSBibG9nczwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5jb3VudEJsb2dzfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi11c2VyXCI+PC9zcGFuPiZuYnNwOyZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5NeSBmcmllbmRzPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBGcmllbmRzIDoge3RoaXMucHJvcHMucHJvZmlsZS5mcmllbmRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVlc3RzIDoge3RoaXMucHJvcHMucHJvZmlsZS5mcmllbmRSZXF1ZXN0c31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICBNeSBSZXF1ZXN0cyA6IHt0aGlzLnByb3BzLnByb2ZpbGUuc2VsZkZyaWVuZFJlcXVlc3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tZW52ZWxvcGVcIj48L3NwYW4+Jm5ic3A7Jm5ic3A7XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL2NoYXRzXCI+TXkgY2hhdHM8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUuY291bnRDaGF0c31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgfVxufVxuXG4vKipcbiAqIENsYXNzIHdpdGggdXNlciBpbmZvIGFuZCBmb3IgdG8gZWRpdCBwcm9maWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9naW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuICovXG5jbGFzcyBVc2VySW5mbyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbG9naW46IHRoaXMucHJvcHMucHJvZmlsZS5sb2dpbixcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLnByb2ZpbGUuZW1haWwsXG4gICAgICAgICAgICBlZGl0OiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtU3VibWl0IChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChncmFwaHFsKHtcbiAgICAgICAgICAgIHR5cGU6ICdQUk9GSUxFX0VESVQnLFxuICAgICAgICAgICAgbG9naW46IHRoaXMuc3RhdGUubG9naW4sXG4gICAgICAgICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGZpZWxkQ2hhbmdlIChlKSB7XG4gICAgICAgIGxldCBzdGF0ZU9iaiA9IHt9O1xuICAgICAgICBzdGF0ZU9ialtlLnRhcmdldC5pZF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZU9iaik7XG4gICAgfVxuXG4gICAgc2V0TW9kZSAoZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGVkaXQ6ICEgdGhpcy5zdGF0ZS5lZGl0LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIChuZXdQcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGxvZ2luOiBuZXdQcm9wcy5wcm9maWxlLmxvZ2luLFxuICAgICAgICAgICAgZW1haWw6IG5ld1Byb3BzLnByb2ZpbGUuZW1haWwsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlciAoKSB7XG4gICAgICAgIGxldCBpbmZvQ2xhc3MgPSBcIlwiO1xuICAgICAgICBsZXQgZm9ybUNsYXNzID0gXCJcIjtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZWRpdCkge1xuICAgICAgICAgICAgaW5mb0NsYXNzID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1DbGFzcyA9IFwiaGlkZGVuXCJcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtcImJ0biBidG4tZGVmYXVsdCBcIiArIGZvcm1DbGFzc30gb25DbGljaz17Ojp0aGlzLnNldE1vZGV9ID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi11c2VyXCI+PC9zcGFuPiZuYnNwOyZuYnNwO1xuICAgICAgICAgICAgICAgICAgICBWaWV3IHByb2ZpbGVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17XCJidG4gYnRuLWRlZmF1bHQgXCIgKyBpbmZvQ2xhc3N9IG9uQ2xpY2s9ezo6dGhpcy5zZXRNb2RlfSA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tY29nXCI+PC9zcGFuPiZuYnNwOyZuYnNwO1xuICAgICAgICAgICAgICAgICAgICBFZGl0IHByb2ZpbGVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2luZm9DbGFzc30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0yXCI+PGxhYmVsPkxvZ2luPC9sYWJlbD48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEwXCI+e3RoaXMuc3RhdGUubG9naW59PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0yXCI+PGxhYmVsPkVtYWlsPC9sYWJlbD48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEwXCI+e3RoaXMuc3RhdGUuZW1haWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Zvcm1DbGFzc30+XG4gICAgICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXs6OnRoaXMuZm9ybVN1Ym1pdH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImxvZ2luXCI+TG9naW48L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibG9naW5cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJMb2dpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxvZ2lufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Ojp0aGlzLmZpZWxkQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZW1haWxcIj5FbWFpbCBhZGRyZXNzPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJlbWFpbFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXs6OnRoaXMuZmllbGRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1mbG9wcHktZGlza1wiPjwvc3Bhbj4mbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIH1cbn07XG5cblxuY2xhc3MgUHJvZmlsZUNvbXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbXBvbmVudFdpbGxNb3VudCAoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZ3JhcGhxbCh7XG4gICAgICAgICAgICB0eXBlOiAnUFJPRklMRScsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgbGV0IGFsZXJ0T3B0cyA9IG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMucHJvZmlsZS5zdGF0dXMgPT09ICdlcnJvcicgfHxcbiAgICAgICAgICAgIHRoaXMucHJvcHMucHJvZmlsZS5zdGF0dXMgPT09ICdlZGl0X2Vycm9yJ1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGFsZXJ0T3B0cyA9IHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMucHJvcHMucHJvZmlsZS5lcnJvciB8fCB0aGlzLnByb3BzLnByb2ZpbGUuZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzID09PSAnc2VuZCcpIHtcbiAgICAgICAgICAgIGFsZXJ0T3B0cyA9IHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnTG9hZGluZywgcGxlYXNlIHdhaXQnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5zdGF0dXMgPT09ICdlZGl0X3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICBhbGVydE9wdHMgPSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgdGV4dDogJ1RoZSBwcm9maWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAgICA8QWxlcnRNZXNzYWdlIG9wdHM9e2FsZXJ0T3B0c30gLz5cbiAgICAgICAgICAgIDxVc2VySW5mbyBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofSAvPlxuICAgICAgICAgICAgPE51bUluZm8gcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICB9XG59XG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4gey4uLnN0YXRlfVxufVxuUHJvZmlsZUNvbXAgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoUHJvZmlsZUNvbXApXG5cbmV4cG9ydCBkZWZhdWx0IFByb2ZpbGVDb21wXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3RhdGljX3NyYy9wcm9maWxlL1Byb2ZpbGVDb21wLmpzIiwibGV0IGluaXRTdGF0ZSA9IHtcbiAgICBpZDogJycsXG4gICAgbG9naW46ICcnLFxuICAgIGVtYWlsOiAnJyxcbiAgICBmcmllbmRzOiAnJyxcbiAgICBmcmllbmRSZXF1ZXN0czogMCxcbiAgICBzZWxmRnJpZW5kUmVxdWVzdHM6IDAsXG4gICAgY291bnRDaGF0czogMCxcbiAgICBjb3VudEJsb2dzOiAwLFxuICAgIHN0YXR1czogbnVsbCxcbiAgICBlcnJvcjogbnVsbCxcbn07XG5jb25zdCBwcm9maWxlID0gKHN0YXRlID0gaW5pdFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICBsZXQgZGF0YSA9IG51bGw7XG4gICAgXG5cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1BST0ZJTEVfU0VORCc6XG4gICAgICAgICAgICBsZXQgc2VuZFN0YXRlID0gey4uLnN0YXRlfTtcbiAgICAgICAgICAgIHNlbmRTdGF0ZS5zdGF0dXMgPSAnc2VuZCc7XG4gICAgICAgICAgICByZXR1cm4gc2VuZFN0YXRlO1xuICAgICAgICBjYXNlICdQUk9GSUxFX1NVQ0NFU1MnOlxuICAgICAgICAgICAgZGF0YSA9IHsuLi5hY3Rpb24uZGF0YS5wcm9maWxlfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgX2lkOiBkYXRhLl9pZCxcbiAgICAgICAgICAgICAgICBsb2dpbjogZGF0YS5sb2dpbixcbiAgICAgICAgICAgICAgICBlbWFpbDogZGF0YS5lbWFpbCxcbiAgICAgICAgICAgICAgICBmcmllbmRzOiBkYXRhLmZyaWVuZHMgfHwgMCxcbiAgICAgICAgICAgICAgICBmcmllbmRSZXF1ZXN0czogZGF0YS5mcmllbmRSZXF1ZXN0cyB8fCAwLFxuICAgICAgICAgICAgICAgIHNlbGZGcmllbmRSZXF1ZXN0czogZGF0YS5zZWxmRnJpZW5kUmVxdWVzdHMgfHwgMCxcbiAgICAgICAgICAgICAgICBjb3VudENoYXRzOiBkYXRhLmNvdW50Q2hhdHMgfHwgMCxcbiAgICAgICAgICAgICAgICBjb3VudEJsb2dzOiBkYXRhLmNvdW50QmxvZ3MgfHwgMCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ1BST0ZJTEVfRVJST1InOlxuICAgICAgICAgICAgbGV0IGVycm9yU3RhdGUgPSB7Li4uc3RhdGV9O1xuICAgICAgICAgICAgZXJyb3JTdGF0ZS5zdGF0dXMgPSAnZXJyb3InO1xuICAgICAgICAgICAgZXJyb3JTdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclN0YXRlO1xuICAgICAgICBcbiAgICAgICAgY2FzZSAnUFJPRklMRV9FRElUX1NFTkQnOlxuICAgICAgICAgICAgc3RhdGUgPSB7Li4uc3RhdGV9O1xuICAgICAgICAgICAgc3RhdGUubG9naW4gPSBhY3Rpb24ubG9naW47XG4gICAgICAgICAgICBzdGF0ZS5lbWFpbCA9IGFjdGlvbi5lbWFpbDtcbiAgICAgICAgICAgIHN0YXRlLnN0YXR1cyA9ICdzZW5kJztcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgY2FzZSAnUFJPRklMRV9FRElUX1NVQ0NFU1MnOlxuICAgICAgICAgICAgZGF0YSA9IHsuLi5hY3Rpb24uZGF0YS5lZGl0UHJvZmlsZX07XG4gICAgICAgICAgICBzdGF0ZSA9IHsuLi5zdGF0ZX07XG4gICAgICAgICAgICBzdGF0ZS5sb2dpbiA9IGRhdGEubG9naW47XG4gICAgICAgICAgICBzdGF0ZS5lbWFpbCA9IGRhdGEuZW1haWw7XG4gICAgICAgICAgICBzdGF0ZS5zdGF0dXMgPSAnZWRpdF9zdWNjZXNzJztcbiAgICAgICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgY2FzZSAnUFJPRklMRV9FRElUX0VSUk9SJzpcbiAgICAgICAgICAgIHN0YXRlID0gey4uLnN0YXRlfTtcbiAgICAgICAgICAgIHN0YXRlLnN0YXR1cyA9ICdlZGl0X2Vycm9yJztcbiAgICAgICAgICAgIHN0YXRlLmVycm9yID0gYWN0aW9uLmVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwcm9maWxlXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3RhdGljX3NyYy9wcm9maWxlL1Byb2ZpbGVSZWQuanMiXSwic291cmNlUm9vdCI6IiJ9